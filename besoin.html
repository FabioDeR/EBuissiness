ğŸ“† DisponibilitÃ©s (restaurant_schedules)

Objectif : Permettre au restaurateur de gÃ©rer son planning de disponibilitÃ© hebdomadaire, entreprise par entreprise

FonctionnalitÃ©s principales :

âœ… DÃ©finir les jours dâ€™ouverture par dÃ©faut (planning global)

âœ… DÃ©finir une heure limite de commande pour chaque jour

âœ… Marquer un jour comme indisponible (fermeture ponctuelle ou congÃ©)

âœ… Ajouter une note obligatoire en cas dâ€™indisponibilitÃ© (ex : "FermÃ© pour congÃ©")

âœ… DÃ©finir des disponibilitÃ©s diffÃ©rentes selon lâ€™organisation cliente

âœ… Appliquer un planning par dÃ©faut Ã  toutes les entreprises, puis modifier au cas par cas

âœ… Interface sous forme de tableau avec jours en colonnes et organisations en lignes

âœ… Composant RestaurantSchedules rÃ©utilisable pour planning global et spÃ©cifique

DonnÃ©es utilisÃ©es :

Table restaurant_schedules

restaurant_id

organization_id (nullable = planning global)

day_id

order_deadline (heure limite)

delivery_time (heure de livraison)

is_available (boolÃ©en)

note (texte, obligatoire si indisponible)

is_default (pour savoir si hÃ©rite du planning global)

Interface actuelle :

âœ… Switch ğŸŸ¢/ğŸ”´ pour activer/dÃ©sactiver un jour

âœ… Champs modifiables inline pour heures (TextField)

âœ… Note requise si indisponible (validation + message dâ€™erreur)

âœ… SystÃ¨me de duplication :

Dâ€™un planning par dÃ©faut vers toutes les organisations

Dâ€™une semaine vers une autre (avec menu dÃ©roulant "Semaine 1 Ã  4")

âœ… Toasts de retour utilisateur (succÃ¨s/erreur)

âœ… IcÃ´nes de lÃ©gende (ğŸŸ¢ Disponible / ğŸ”´ Indisponible)

AmÃ©liorations possibles :

ğŸ“… Rendre les semaines dynamiques (avec date_range ou valid_from Ã  terme)

ğŸ”„ Ajout dâ€™un bouton "Sauvegarder tout" ou auto-save aprÃ¨s modification

ğŸ“¤ Export du planning (PDF ou CSV) pour usage interne du restaurant

ğŸ§  Notification automatique des entreprises en cas de modification

Routes Backend nÃ©cessaires :

GET /api/restaurant-schedules â†’ rÃ©cupÃ©rer le planning global ou par entreprise

PUT /api/restaurant-schedules/{id} â†’ mise Ã  jour dâ€™une ligne de planning (AJAX inline)

POST /api/restaurant-schedules/duplicate â†’ dupliquer le planning dâ€™une semaine ou dâ€™une entreprise

GET /api/days â†’ rÃ©cupÃ©rer les jours de la semaine (pour correspondance day_id)

GET /api/organizations â†’ rÃ©cupÃ©rer les entreprises associÃ©es au restaurant

â¡ï¸ Ã€ venir : sections "Commandes", "Paiements", "Profil du restaurant"

------------------------------

ğŸ“Š Tableau de bord (dashboard)

Objectif : Fournir une vue dâ€™ensemble rapide de lâ€™activitÃ© quotidienne et mensuelle du restaurant

FonctionnalitÃ©s principales :

âœ… Statistiques clÃ©s :

Nombre de plats actifs

Nombre de commandes du jour

Revenus du mois

Ã‰valuation moyenne des plats

Nombre dâ€™entreprises servies aujourdâ€™hui

Heure limite de commande globale

DisponibilitÃ© du jour

âœ… Blocs dynamiques :

Commandes rÃ©centes (ID, EmployÃ©, Entreprise, Heure, Montant, Statut)

Commandes par entreprise (nombre, montant total, heure limite, statut)

Plats populaires (nom, ventes, note, entreprise associÃ©e)

DonnÃ©es utilisÃ©es :

dishes (pour stats sur les plats)

orders + order_statuses

payments + payment_statuses

restaurant_schedules

reviews

users + organizations

restaurant_dish_prices

AmÃ©liorations prÃ©vues :

ğŸ“… SÃ©lecteur de pÃ©riode (jour, semaine, mois)

ğŸ“ˆ Export des donnÃ©es du dashboard (CSV / PDF)

ğŸ“Š Filtrage par entreprise

Routes Backend nÃ©cessaires :

GET /api/dashboard â†’ retourne un DashboardResponseDTO structurÃ© avec :

stats: chiffres globaux

recentOrders[]: derniÃ¨res commandes avec dÃ©tails

enterpriseOrders[]: rÃ©sumÃ© des commandes par entreprise

popularDishes[]: classement des plats les plus vendus

â¡ï¸ Ã€ venir : sections "Commandes", "Paiements", "Profil du restaurant"

