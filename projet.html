<!DOCTYPE html>
<html lang="fr" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Projet E-Business</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <nav class="navbar">
        <div class="nav-container">
            <h1>E-Business</h1>
            <button class="mobile-toggle" id="mobile-toggle">
                <i class="fas fa-bars"></i>
            </button>
            <div class="two-tier-nav" id="two-tier-nav">
                <div class="nav-top-tier">
                    <div class="nav-category">Cours</div>
                    <ul class="nav-links">
                        <li><a href="index.html"><i class="fas fa-home"></i> Accueil</a></li>
                        <li><a href="cours1.html"><i class="fas fa-book"></i> Cours 1</a></li>
                        <li><a href="cours2.html"><i class="fas fa-book"></i> Cours 2</a></li>
                        <li><a href="cours4.html"><i class="fas fa-book"></i> Cours 4</a></li>
                        <li><a href="cours5.html"><i class="fas fa-book"></i> Cours 5</a></li>
                        <li><a href="exercice.html"><i class="fas fa-tasks"></i> Exercices</a></li>
                    </ul>
                </div>
                <div class="nav-bottom-tier">
                    <div class="nav-category">Projet</div>
                    <ul class="nav-links">
                        <li><a href="projet.html" class="active"><i class="fas fa-project-diagram"></i> Projet</a></li>
                        <li><a href="business-plan.html"><i class="fas fa-file-alt"></i> Business Plan</a></li>
                        <li><a href="kanban.html"><i class="fas fa-clipboard-list"></i> Kanban</a></li>
                        <li><a href="PtitGamelle_Kanban.html"><i class="fas fa-clipboard-list"></i> Kanban Technique</a></li>
                        <li><a href="pages-specification.html"><i class="fas fa-file-code"></i> Spécifications</a></li>
                        <li><a href="allergenes.html"><i class="fas fa-allergies"></i> Allergènes</a></li>
                    </ul>
                </div>
            </div>
            <button class="theme-toggle" id="theme-toggle">
                <i class="fas fa-moon"></i>
            </button>
        </div>
    </nav>

    <main>       

        <section class="card">
            <h2><i class="fas fa-utensils icon"></i>PtitGamelle - La solution digitale de repas pour les entreprises</h2>
            
            <div class="download-section">
                <button class="download-btn">
                    <i class="fas fa-file-pdf"></i>
                    Télécharger le projet en PDF
                </button>
            </div>
            
            <div class="pitch-section">
                <div class="pitch-header">
                    <h3><i class="fas fa-rocket"></i> Pitch en une phrase</h3>
                    <p>PtitGamelle révolutionne la pause déjeuner en entreprise grâce à une plateforme tout-en-un qui connecte restaurants locaux et entreprises pour une livraison quotidienne de repas variés, personnalisés, et parfaitement organisés.</p>
                </div>

                <div class="mission-section">
                    <h3><i class="fas fa-bullseye"></i> Notre mission</h3>
                    <p>Dans un monde où la qualité de vie au travail est devenue centrale, PtitGamelle propose une solution intelligente, simple et savoureuse pour faciliter la commande de repas en entreprise, en alliant le meilleur de la tech à la richesse de la cuisine locale.</p>
                </div>
            </div>

            <div class="features-grid">
                <div class="feature-card">
                    <h3><i class="fas fa-building"></i> Pour les entreprises et leurs employés</h3>
                    <div class="feature-group">
                        <h4><i class="fas fa-check-circle"></i> Plateforme de commande centralisée</h4>
                        <ul>
                            <li>Interface web intuitive pour les employés</li>
                            <li>Commande possible à l'avance, par jour ou pour toute la semaine</li>
                            <li>Personnalisation des repas : suppléments, sauces, préférences, allergies</li>
                            <li>Historique des commandes et recommandations intelligentes</li>
                            <li>Paiement facilité (rechargeable, entreprise, tickets resto…)</li>
                        </ul>
                    </div>
                    <div class="feature-group">
                        <h4><i class="fas fa-clock"></i> Respect des contraintes professionnelles</h4>
                        <ul>
                            <li>Livraison quotidienne à une heure fixe, définie par l'entreprise</li>
                            <li>Notifications avant la limite de commande</li>
                            <li>Options de don à des œuvres caritatives pour les invendus</li>
                        </ul>
                    </div>
                    <div class="feature-group">
                        <h4><i class="fas fa-users"></i> Meilleure expérience employé</h4>
                        <ul>
                            <li>Accès à plusieurs restaurants partenaires</li>
                            <li>Repas variés, équilibrés, locaux</li>
                            <li>Évaluations et suggestions personnalisées</li>
                        </ul>
                    </div>
                </div>

                <div class="feature-card">
                    <h3><i class="fas fa-store"></i> Pour les restaurateurs partenaires</h3>
                    <div class="feature-group">
                        <h4><i class="fas fa-calendar-alt"></i> Gestion de disponibilité simplifiée</h4>
                        <ul>
                            <li>Planning hebdomadaire, configurable par entreprise</li>
                            <li>Heure limite de commande, livraison configurable</li>
                            <li>Fermetures exceptionnelles avec note explicative</li>
                            <li>Visualisation claire des jours ouverts et fermés</li>
                        </ul>
                    </div>
                    <div class="feature-group">
                        <h4><i class="fas fa-utensils"></i> Interface de gestion des plats puissante</h4>
                        <ul>
                            <li>Ajout rapide de plats via modale step-by-step</li>
                            <li>Préremplissage intelligent via presets de plats</li>
                            <li>Gestion des catégories personnalisées</li>
                            <li>Système de tags visuels et colorés</li>
                            <li>Duplication et désactivation rapide</li>
                        </ul>
                    </div>
                    <div class="feature-group">
                        <h4><i class="fas fa-chart-line"></i> Suivi d'activité en temps réel</h4>
                        <ul>
                            <li>Dashboard avec statistiques clé</li>
                            <li>Vue détaillée par entreprise</li>
                            <li>Export CSV / Excel des données</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="tech-section">
                <h3><i class="fas fa-code"></i> Architecture technique moderne</h3>
                <div class="tech-grid">
                    <div class="tech-card">
                        <h4><i class="fas fa-desktop"></i> Frontends</h4>
                        <ul>
                            <li>Employés : React.js responsive</li>
                            <li>Administrateurs : Application WPF bureau</li>
                            <li>Restaurateurs : Interface web (React + Typescript + MUI)</li>
                        </ul>
                    </div>
                    <div class="tech-card">
                        <h4><i class="fas fa-server"></i> Backend Laravel (API RESTful)</h4>
                        <ul>
                            <li>Authentification sécurisée (JWT / Sanctum)</li>
                            <li>Structure modulaire et scalable</li>
                            <li>Génération automatique de clients TypeScript</li>
                            <li>Swagger intégré pour la documentation</li>
                        </ul>
                    </div>
                    <div class="tech-card">
                        <h4><i class="fas fa-database"></i> Base de données relationnelle</h4>
                        <ul>
                            <li>Modélisation fine des entités</li>
                            <li>Prévue pour des volumes importants</li>
                            <li>Gestion des presets et imports</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div class="upcoming-features">
                <h3><i class="fas fa-lightbulb"></i> Fonctionnalités innovantes à venir</h3>
                <ul>
                    <li><i class="fas fa-robot"></i> Système de suggestions automatiques</li>
                    <li><i class="fas fa-file-import"></i> Import de templates de plats</li>
                    <li><i class="fas fa-calendar-check"></i> Calendrier dynamique</li>
                    <li><i class="fas fa-brain"></i> Algorithmes de recommandation</li>
                    <li><i class="fas fa-bell"></i> Notifications entreprises</li>
                </ul>
            </div>

            <div class="advantages-section">
                <h3><i class="fas fa-star"></i> Pourquoi choisir PtitGamelle ?</h3>
                <div class="advantages-grid">
                    <div class="advantage-card">
                        <h4><i class="fas fa-check-circle"></i> Adapté à la réalité terrain</h4>
                        <p>Construit par et pour les restaurateurs & entreprises locales</p>
                    </div>
                    <div class="advantage-card">
                        <h4><i class="fas fa-sliders-h"></i> Ultra-personnalisable</h4>
                        <p>Suppôts multiples, allergènes, horaires, entreprise par entreprise</p>
                    </div>
                    <div class="advantage-card">
                        <h4><i class="fas fa-clock"></i> Gain de temps</h4>
                        <p>Interface pensée pour la saisie rapide, duplication, suggestions</p>
                    </div>
                    <div class="advantage-card">
                        <h4><i class="fas fa-chart-bar"></i> Visibilité accrue</h4>
                        <p>Les restaurants partenaires gagnent une clientèle récurrente</p>
                    </div>
                    <div class="advantage-card">
                        <h4><i class="fas fa-user-check"></i> Expérience employé premium</h4>
                        <p>Simplifie le déjeuner en entreprise sans compromis sur la qualité</p>
                    </div>
                </div>
            </div>

            <div class="objectives-section">
                <h3><i class="fas fa-bullseye"></i> Objectifs & perspectives</h3>
                <ul>
                    <li>Déploiement en phase pilote auprès de plusieurs PME</li>
                    <li>Constitution d'une base de presets intelligents</li>
                    <li>Extension géographique ciblée</li>
                    <li>Intégration avec des systèmes de badge ou de pointage</li>
                </ul>
            </div>

            <div class="summary-section">
                <h3><i class="fas fa-quote-right"></i> En résumé</h3>
                <p>PtitGamelle, c'est bien plus qu'un service de livraison. C'est une plateforme complète, évolutive et humaine, qui crée une vraie synergie entre les besoins des entreprises, les attentes des employés et le savoir-faire des restaurateurs locaux.</p>
            </div>
        </section>       

        <section class="card">
            <h2><i class="fas fa-images icon gallery-icon" id="galleryIcon"></i>Galerie de captures d'écran</h2>
            <div class="screenshot-gallery">
                <div class="gallery-grid">
                    <div class="gallery-item">
                        <img src="screentshot/dash1.png" alt="Dashboard principal" class="screenshot">
                        <div class="gallery-overlay">
                            <h3>Dashboard principal</h3>
                            <p>Vue d'ensemble des statistiques et activités</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="screentshot/dash2.png" alt="Dashboard détaillé" class="screenshot">
                        <div class="gallery-overlay">
                            <h3>Dashboard détaillé</h3>
                            <p>Statistiques avancées et analyses</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="screentshot/mesplat.png" alt="Gestion des plats" class="screenshot">
                        <div class="gallery-overlay">
                            <h3>Gestion des plats</h3>
                            <p>Interface de gestion du menu</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="screentshot/updateplat.png" alt="Modification de plat" class="screenshot">
                        <div class="gallery-overlay">
                            <h3>Modification de plat</h3>
                            <p>Formulaire de mise à jour des plats</p>
                        </div>
                    </div>
                    <div class="gallery-item">
                        <img src="screentshot/disponibilité.png" alt="Gestion des disponibilités" class="screenshot">
                        <div class="gallery-overlay">
                            <h3>Gestion des disponibilités</h3>
                            <p>Planning et horaires de service</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section class="card">
            <h2><i class="fas fa-tasks icon"></i>Étapes du projet</h2>
            <div class="exercise-list">
                <a href="besoin.html" class="btn">Besoins du projet</a>
                <a href="kanban.html" class="btn">Kanban</a>
                <a href="pages-specification.html" class="btn">Spécifications des pages</a>
                <a href="allergenes.html" class="btn">Système d'allergènes</a>
            </div>
        </section>       
    </main>

    <!-- Modal Carousel -->
    <div class="carousel-modal" id="carouselModal">
        <div class="carousel-container">
            <button class="carousel-close" id="closeCarousel">
                <i class="fas fa-times"></i>
            </button>
            <button class="carousel-nav prev" id="prevSlide">
                <i class="fas fa-chevron-left"></i>
            </button>
            <div class="carousel-slides">
                <div class="carousel-slide">
                    <img src="screentshot/dash1.png" alt="Dashboard principal">
                    <div class="slide-caption">
                        <h3>Dashboard principal</h3>
                        <p>Vue d'ensemble des statistiques et activités</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="screentshot/dash2.png" alt="Dashboard détaillé">
                    <div class="slide-caption">
                        <h3>Dashboard détaillé</h3>
                        <p>Statistiques avancées et analyses</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="screentshot/mesplat.png" alt="Gestion des plats">
                    <div class="slide-caption">
                        <h3>Gestion des plats</h3>
                        <p>Interface de gestion du menu</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="screentshot/updateplat.png" alt="Modification de plat">
                    <div class="slide-caption">
                        <h3>Modification de plat</h3>
                        <p>Formulaire de mise à jour des plats</p>
                    </div>
                </div>
                <div class="carousel-slide">
                    <img src="screentshot/disponibilité.png" alt="Gestion des disponibilités">
                    <div class="slide-caption">
                        <h3>Gestion des disponibilités</h3>
                        <p>Planning et horaires de service</p>
                    </div>
                </div>
            </div>
            <button class="carousel-nav next" id="nextSlide">
                <i class="fas fa-chevron-right"></i>
            </button>
            <div class="carousel-dots"></div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>

    <script>
        // Theme toggle functionality
        const themeToggle = document.getElementById('theme-toggle');
        const html = document.documentElement;
        
        // Check for saved theme preference
        const savedTheme = localStorage.getItem('theme');
        if (savedTheme) {
            html.setAttribute('data-theme', savedTheme);
            updateThemeIcon(savedTheme);
        }

        themeToggle.addEventListener('click', () => {
            const currentTheme = html.getAttribute('data-theme');
            const newTheme = currentTheme === 'light' ? 'dark' : 'light';
            
            html.setAttribute('data-theme', newTheme);
            localStorage.setItem('theme', newTheme);
            updateThemeIcon(newTheme);
        });

        function updateThemeIcon(theme) {
            const icon = themeToggle.querySelector('i');
            icon.className = theme === 'light' ? 'fas fa-moon' : 'fas fa-sun';
        }
        
        // Mobile menu toggle
        const mobileToggle = document.getElementById('mobile-toggle');
        const navLinks = document.getElementById('two-tier-nav');
        
        mobileToggle.addEventListener('click', () => {
            navLinks.classList.toggle('show');
        });
        
        // Active link functionality
        document.addEventListener('DOMContentLoaded', () => {
            const currentPage = window.location.pathname.split('/').pop();
            const navLinks = document.querySelectorAll('.nav-links li a');
            
            navLinks.forEach(link => {
                const linkHref = link.getAttribute('href');
                if (linkHref === currentPage || (currentPage === '' && linkHref === 'index.html')) {
                    link.classList.add('active');
                }
            });
        });

        // Carousel functionality
        const modal = document.getElementById('carouselModal');
        const galleryItems = document.querySelectorAll('.gallery-item');
        const slides = document.querySelectorAll('.carousel-slide');
        const prevBtn = document.getElementById('prevSlide');
        const nextBtn = document.getElementById('nextSlide');
        const closeBtn = document.getElementById('closeCarousel');
        const dotsContainer = document.querySelector('.carousel-dots');
        let currentSlide = 0;

        // Create dots
        slides.forEach((_, index) => {
            const dot = document.createElement('button');
            dot.classList.add('carousel-dot');
            if (index === 0) dot.classList.add('active');
            dot.addEventListener('click', () => goToSlide(index));
            dotsContainer.appendChild(dot);
        });

        const dots = document.querySelectorAll('.carousel-dot');

        function updateSlides() {
            slides.forEach((slide, index) => {
                if (index === currentSlide) {
                    slide.classList.add('active');
                } else {
                    slide.classList.remove('active');
                }
            });
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });
        }

        function goToSlide(index) {
            currentSlide = index;
            updateSlides();
        }

        function nextSlide() {
            currentSlide = (currentSlide + 1) % slides.length;
            updateSlides();
        }

        function prevSlide() {
            currentSlide = (currentSlide - 1 + slides.length) % slides.length;
            updateSlides();
        }

        // Event listeners
        galleryItems.forEach((item, index) => {
            item.addEventListener('click', () => {
                modal.classList.add('active');
                goToSlide(index);
            });
        });

        closeBtn.addEventListener('click', () => {
            modal.classList.remove('active');
        });

        prevBtn.addEventListener('click', prevSlide);
        nextBtn.addEventListener('click', nextSlide);

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (!modal.classList.contains('active')) return;
            
            if (e.key === 'ArrowLeft') prevSlide();
            if (e.key === 'ArrowRight') nextSlide();
            if (e.key === 'Escape') modal.classList.remove('active');
        });

        // Touch swipe support
        let touchStartX = 0;
        let touchEndX = 0;

        modal.addEventListener('touchstart', (e) => {
            touchStartX = e.changedTouches[0].screenX;
        });

        modal.addEventListener('touchend', (e) => {
            touchEndX = e.changedTouches[0].screenX;
            handleSwipe();
        });

        function handleSwipe() {
            const swipeThreshold = 50;
            const diff = touchStartX - touchEndX;

            if (Math.abs(diff) > swipeThreshold) {
                if (diff > 0) {
                    nextSlide();
                } else {
                    prevSlide();
                }
            }
        }

        // Live reload functionality
        const liveReload = {
            enabled: true,
            checkInterval: 1000, // Check every second
            lastModified: new Date().getTime(),
            
            init() {
                if (!this.enabled) return;
                
                console.log('Live reload enabled.');
                this.startChecking();
            },
            
            startChecking() {
                setInterval(() => {
                    this.checkForChanges();
                }, this.checkInterval);
            },
            
            checkForChanges() {
                fetch(window.location.href, {
                    method: 'HEAD',
                    cache: 'no-cache'
                })
                .then(response => {
                    const lastModified = new Date(response.headers.get('last-modified')).getTime();
                    if (lastModified > this.lastModified) {
                        console.log('Changes detected, reloading...');
                        window.location.reload();
                    }
                })
                .catch(error => {
                    console.error('Live reload error:', error);
                });
            }
        };

        // Initialize live reload
        liveReload.init();

        // Ajout de l'événement pour l'icône de la galerie
        const galleryIcon = document.getElementById('galleryIcon');
        galleryIcon.addEventListener('click', () => {
            modal.classList.add('active');
            goToSlide(0);
        });

        async function convertToPDF() {
            try {
                const downloadBtn = document.querySelector('.download-btn');
                const originalText = downloadBtn.innerHTML;

                // Afficher spinner et désactiver le bouton
                downloadBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Génération du PDF...';
                downloadBtn.disabled = true;

        // Charger le contenu HTML depuis le fichier (même dossier)
        const response = await fetch('projet_content.html');

        // Vérification de la requête
        if (!response.ok) {
            throw new Error(`Erreur lors du chargement de projet_content.html (status ${response.status})`);
        }

        const htmlContent = await response.text();

        // Créer un conteneur temporaire invisible pour y insérer le contenu
        const container = document.createElement('div');
        container.innerHTML = htmlContent;
       
        document.body.appendChild(container);

        // Générer le PDF à partir de ce contenu
        await html2pdf().set({
            margin: 10,
            filename: 'projet_ptitgamelle.pdf',
            image: { type: 'jpeg', quality: 0.98 },
            html2canvas: {
                scale: 2,
                useCORS: true,
                backgroundColor: '#ffffff'
            },
            jsPDF: {
                unit: 'mm',
                format: 'a4',
                orientation: 'portrait'
            }
        }).from(container).save();

        // Nettoyage du DOM
        document.body.removeChild(container);

        // Restaurer le bouton
        downloadBtn.innerHTML = originalText;
        downloadBtn.disabled = false;
        alert('PDF généré avec succès !');
    } catch (error) {
        console.error('Erreur PDF:', error);
        alert('Une erreur est survenue lors de la génération du PDF.');

                // Restaurer le bouton
                const downloadBtn = document.querySelector('.download-btn');
                downloadBtn.innerHTML = '<i class="fas fa-file-pdf"></i> Télécharger le projet en PDF';
                downloadBtn.disabled = false;
            }
        }

        // Attacher l'événement au clic du bouton PDF
        document.addEventListener('DOMContentLoaded', () => {
            const btn = document.querySelector('.download-btn');
            if (btn) {
                btn.addEventListener('click', (e) => {
                    e.preventDefault();
                    convertToPDF();
                });
            }
        });
    </script>
</body>

</html> 